"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getComponentClass = exports.getComponentId = void 0;
/**
 * Gets an id for a component class.
 *
 * @param component Component class
 * @param createIfNotExists - If `true` then unique id for class component will be created,
 *  in case if it wasn't assigned earlier
 */
function getComponentId(component, createIfNotExists) {
    if (createIfNotExists === void 0) { createIfNotExists = false; }
    if (component.hasOwnProperty(COMPONENT_CLASS_ID)) {
        return component[COMPONENT_CLASS_ID];
    }
    else if (createIfNotExists) {
        return component[COMPONENT_CLASS_ID] = componentClassId++;
    }
    return undefined;
}
exports.getComponentId = getComponentId;
/**
 * @internal
 */
function getComponentClass(component, resolveClass) {
    var componentClass = Object.getPrototypeOf(component).constructor;
    if (resolveClass) {
        if (!(component instanceof resolveClass || componentClass === resolveClass)) {
            throw new Error('Resolve class should be an ancestor of component class');
        }
        componentClass = resolveClass;
    }
    return componentClass;
}
exports.getComponentClass = getComponentClass;
var COMPONENT_CLASS_ID = '__componentClassId__';
var componentClassId = 1;
